?((/* --------------------------------------------------------------------- ))
?((/* Programa MOORMEAL.LOG para obtener la Maquina de Mealy equivalente a  ))
?((/*            una maquina de Moore dada por el usuario.                  ))
?((/* Realizado por: Rodolfo Gonzalez Gonzalez.                             ))
?((/* --------------------------------------------------------------------- ))

?((/* --------------------------------------------------------------------- ))
?((/* Cargar el archivo deltas.log donde esta definido la Maquina de Moore  ))
?((/* definida en terminos de hechos sigma para la lista con el alfabeto de ))
?((/* salida, delta para la tabla de transiciones, Q para la lista estados, ))
?((/* y lambda para la salida.                                              ))
?((/* --------------------------------------------------------------------- ))

?((LOAD deltas))

?((/* --------------------------------------------------------------------- ))

((pertenece x (x|y)))
((pertenece x (y|x1))
   (pertenece x x1))

?((/* --------------------------------------------------------------------- ))
?((/* Clausulas para generar las clausulas lambda prima para la maquina de  ))
?((/* Mealy equivalente a la dada de Moore.                                 ))
?((/* Las lambdas prima se definen como lambda de delta para cada estado de ))
?((/* Q y simbolo de sigma.                                                 ))
?((/* --------------------------------------------------------------------- ))

((MM2 (x1|x2) y1)
    (delta x1 y1 z)
    (lambda z z1)
    (ADDCL ((lambda-prima x1 y1 z1)))
    (MM2 x2 y1)
)
((MM2 () y1))

((MM1 x1 (y1|y2))
    (MM2 x1 y1)
    (MM1 x1 y2)
)
((MM1 x1 ()))

((Moore-Mealy z)
    (/* Clausula principal para hallar la maq. de Mealy equivalente a la de )
    (/* Moore.                                                              )

    (Q x)
    (sigma y)
    (MM1 x y)
    (PP La Maquina de Mealy equivalente a la de Moore es )
    (PP Estado inicial: z)
    (ADDCL ((Q0 z)))
    (PP Alfabeto sigma: y)
    (PP Estados Q: x)
    (PP Tabla de transiciones:)
    (LIST delta)
    (PP Lambda prima:)
    (LIST lambda-prima)
)

?((/* --------------------------------------------------------------------- ))
?((/* Clausulas de la maquina de Mealy que generan la salida equivalente a  ))
?((/* la de la maquina de Moore dada. Esto se debe hacer debido a que la    ))
?((/* longitud de la salida de una maquina de Mealy siempre es menor en uno ))
?((/* a la longitud de la salida de una maquina de Moore, para cada cadena  ))
?((/* w de entrada, por lo que hay que concatenar b al inicio de la salida  ))
?((/* de la maquina de Mealy construida, donde b es la salida de la maquina ))
?((/* de Moore asociada a su estado inicial.                                ))
?((/* --------------------------------------------------------------------- ))

((Mealy x (z1|z2))
    (Q z10)
    (pertenece x z10)
    (sigma z11)
    (pertenece z1 z11)
    (lambda-prima x z1 y1)
    (PP y1)
    (delta x z1 y)
    (Mealy y z2)
)
((Mealy x ()))

((Mealy-equiv y)
    (/* clausula principal de la maquina de Mealy equivalente a la de Moore )
    (/* dada. Donde y es la cadena a analizar                               )

    (Q0 x)
    (lambda x z100)
    (PP z100)
    (Mealy x y)
)